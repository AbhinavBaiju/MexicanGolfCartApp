/* ============================================
   MEXICAN GOLF CARTS - BOOKING WIDGET STYLES
   Matches Shopify homepage "white container" design
   ============================================ */

:root {
  --gc-color-primary: #006341;
  --gc-color-primary-hover: #004d32;
  --gc-color-input-bg: #F7F7F7;
  --gc-color-text-label: #333333;
  --gc-color-text-input: #111111;
  --gc-color-border: #E5E5E5;
  --gc-color-focus-ring: #007AFF;
  --gc-radius-container: 24px;
  --gc-radius-input: 12px;
  --gc-spacing-unit: 16px;
  --gc-font-family: inherit;
  --gc-color-error: #D32F2F;
  --gc-color-success: #388E3C;
  --gc-color-timer-bg: #FFF3E0;
  --gc-color-timer-text: #E65100;
}

/* ============================================
   WHITE CARD SECTION LAYOUT
   ============================================ */

.mgc-white-card-section {
  padding: 36px 0;
}

.booking-outer-wrapper {
  max-width: 1400px;
  margin: 0 auto;
  padding: 0;
}

.booking-container {
  background: #FFFFFF;
  border-radius: 50px;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
  height: auto;
  min-height: 500px;
  width: 100%;
  padding: 28px;
  box-sizing: border-box;
}

.mgc-white-card__title {
  margin: 0 0 24px 0;
  font-size: 28px;
  line-height: 1.2;
  font-weight: 700;
  color: #0b0b0b;
  text-align: center;
}

/* ============================================
   4 STEPS GRID
   ============================================ */

.mgc-steps {
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 18px;
  margin-bottom: 28px;
  padding-bottom: 24px;
  border-bottom: 1px solid #f0f0f0;
}

.mgc-step {
  display: flex;
  gap: 12px;
  align-items: flex-start;
}

.mgc-step__icon {
  width: 44px;
  height: 44px;
  min-width: 44px;
  border-radius: 12px;
  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
  flex: 0 0 auto;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--gc-color-primary);
}

.mgc-step__icon svg {
  width: 24px;
  height: 24px;
}

.mgc-step__text {
  flex: 1;
}

.mgc-step__headline {
  font-weight: 700;
  font-size: 15px;
  line-height: 1.25;
  color: #0b0b0b;
}

.mgc-step__sub {
  margin-top: 2px;
  font-weight: 600;
  font-size: 13px;
  color: rgba(11, 11, 11, 0.65);
}

/* ============================================
   BOOKING SLOT (Form Container)
   ============================================ */

.mgc-booking-slot {
  margin-top: 8px;
}

.gc-grid-container {
  display: grid;
  grid-template-columns: 1fr;
  gap: 24px;
}

@media (min-width: 992px) {
  .gc-grid-container {
    grid-template-columns: 1fr 1fr;
  }
}

.gc-grid-col-left {
  /* Empty column */
  min-height: 200px;
  /* Placeholder height */
}

.gc-grid-col-right {
  display: flex;
  flex-direction: column;
}

/* ============================================
   BOOKING FORM STYLES
   ============================================ */

.gc-booking-form {
  max-width: 100%;
  position: relative;
  /* Anchor for flatpickr */
}

.gc-form-grid {
  display: grid;
  gap: 20px;
}

.gc-input-group {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.gc-label {
  font-size: 14px;
  font-weight: 600;
  color: var(--gc-color-text-label);
  margin-left: 4px;
}

.gc-input-wrapper {
  position: relative;
  display: flex;
  align-items: center;
}

.gc-input-icon {
  position: absolute;
  left: 16px;
  width: 20px;
  height: 20px;
  color: #666;
  pointer-events: none;
  z-index: 2;
}

.gc-input,
.gc-select {
  width: 100%;
  height: 56px;
  padding: 0 16px 0 48px;
  background-color: var(--gc-color-input-bg);
  border: 1px solid var(--gc-color-border);
  border-radius: var(--gc-radius-input);
  font-size: 16px;
  color: var(--gc-color-text-input);
  appearance: none;
  -webkit-appearance: none;
  transition: all 0.2s ease;
  outline: none;
}

.gc-input:focus,
.gc-select:focus {
  border-color: var(--gc-color-focus-ring);
  box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.15);
  background-color: #FFFFFF;
}

/* Custom chevron for select */
.gc-select-wrapper {
  position: relative;
}

.gc-select-chevron {
  position: absolute;
  right: 16px;
  top: 50%;
  transform: translateY(-50%);
  width: 12px;
  height: 12px;
  pointer-events: none;
  color: #666;
}

/* ============================================
   FULFILLMENT & DYNAMIC SECTIONS
   ============================================ */

.gc-fulfillment-options {
  display: flex;
  gap: 12px;
}

.gc-radio-label {
  flex: 1;
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 12px 16px;
  background-color: var(--gc-color-input-bg);
  border: 1px solid var(--gc-color-border);
  border-radius: var(--gc-radius-input);
  cursor: pointer;
  transition: all 0.2s ease;
}

.gc-radio-label:hover {
  background-color: #EFEFEF;
}

.gc-radio-label:has(input:checked) {
  border-color: var(--gc-color-focus-ring);
  background-color: rgba(0, 122, 255, 0.05);
  box-shadow: 0 0 0 1px var(--gc-color-focus-ring);
}

.gc-radio-text {
  font-weight: 500;
  color: var(--gc-color-text-input);
}

.gc-dynamic-details {
  margin-top: -8px;
  /* Slightly closer to the fulfillment toggle */
}

/* Pickup Display - Matches Delivery Input Box styling */
.gc-pickup-display {
  width: 100%;
  height: 56px;
  padding: 0 16px 0 48px;
  background-color: var(--gc-color-input-bg);
  border: 1px solid var(--gc-color-border);
  border-radius: var(--gc-radius-input);
  display: flex;
  align-items: center;
  box-sizing: border-box;
}

.gc-pickup-display .gc-address-text {
  font-size: 16px;
  color: var(--gc-color-text-input);
}

@media (max-width: 560px) {
  .gc-pickup-display {
    height: 52px;
  }
}



/* Date Range specific */
.gc-date-range {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}

/* ============================================
   ACTION BUTTON
   ============================================ */

.gc-submit-btn {
  width: 100%;
  height: 56px;
  background-color: #CE1226;
  color: #FFFFFF;
  border: none;
  border-radius: var(--gc-radius-input);
  font-size: 16px;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-top: 8px;
}

.gc-submit-btn:hover {
  background-color: #B21021;
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(206, 18, 38, 0.3);
}

.gc-submit-btn:active {
  transform: translateY(0);
}

.gc-submit-btn:disabled {
  background-color: #ccc;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

/* ============================================
   STATUS MESSAGES
   ============================================ */

.gc-status-message {
  font-size: 14px;
  font-weight: 500;
  min-height: 20px;
  text-align: center;
}

.gc-status-error {
  color: var(--gc-color-error);
}

.gc-status-success {
  color: var(--gc-color-success);
}

.gc-status-loading {
  color: #666;
  font-style: italic;
}

/* ============================================
   COUNTDOWN TIMER
   ============================================ */

#gc-timer-container {
  background-color: var(--gc-color-timer-bg);
  color: var(--gc-color-timer-text);
  padding: 12px;
  border-radius: var(--gc-radius-input);
  font-size: 14px;
  font-weight: 600;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  border: 1px solid #FFE0B2;
}

/* ============================================
   ERROR STATE
   ============================================ */

.gc-error-state {
  text-align: center;
  padding: 24px 0;
}

.gc-error-state p {
  margin-bottom: 16px;
  color: #666;
}

.gc-error-state .gc-submit-btn {
  margin-top: 0;
  background-color: #333;
}

/* ============================================
   RESPONSIVE BREAKPOINTS
   ============================================ */

/* Tablet: 2-column steps grid */
@media (max-width: 980px) {
  .mgc-steps {
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 16px;
  }

  .mgc-white-card__title {
    font-size: 24px;
  }
}

/* Mobile: 1-column layout */
@media (max-width: 560px) {
  .mgc-white-card-section {
    padding: 27px 0;
  }

  .booking-outer-wrapper {
    padding: 0;
  }

  .booking-container {
    padding: 20px;
    border-radius: 50px;
    /* Keeping 50px or slightly reduced? User said 50px */
    height: auto;
    /* Allow auto height on mobile to prevent overflow */
    min-height: 500px;
  }

  .mgc-white-card__title {
    font-size: 22px;
    margin-bottom: 20px;
  }

  .mgc-steps {
    grid-template-columns: 1fr;
    gap: 14px;
    margin-bottom: 22px;
    padding-bottom: 18px;
  }

  .mgc-step__icon {
    width: 40px;
    height: 40px;
    min-width: 40px;
  }

  .mgc-step__icon svg {
    width: 20px;
    height: 20px;
  }

  .mgc-step__headline {
    font-size: 14px;
  }

  .mgc-step__sub {
    font-size: 12px;
  }

  .gc-date-range {
    grid-template-columns: 1fr 1fr;
    gap: 10px;
  }

  .gc-input,
  .gc-select,
  .gc-submit-btn {
    height: 52px;
  }
}

/* Very small screens */
@media (max-width: 380px) {
  .booking-outer-wrapper {
    padding: 0;
  }

  .booking-container {
    padding: 16px;
    border-radius: 40px;
    min-height: 500px;
  }

  .mgc-white-card__title {
    font-size: 20px;
  }
}

/* ============================================
   UPDATED LOCATION & QUANTITY ROW
   ============================================ */

.gc-form-row.gc-location-quantity-row {
  display: grid;
  grid-template-columns: 2fr 1fr;
  gap: 12px;
  align-items: start;
}

/* Stepper Styles */
.gc-quantity-wrapper {
  display: flex;
  align-items: center;
  border: 1px solid var(--gc-color-border);
  border-radius: var(--gc-radius-input);
  background-color: var(--gc-color-input-bg);
  height: 56px;
  overflow: hidden;
  transition: all 0.2s ease;
}

.gc-quantity-wrapper:focus-within {
  border-color: var(--gc-color-focus-ring);
  box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.15);
  background-color: #FFFFFF;
}

.gc-qty-btn {
  width: 44px;
  height: 100%;
  border: none;
  background: transparent;
  color: var(--gc-color-primary);
  /* font-size: 18px; */
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background-color 0.2s;
  padding: 0;
  margin: 0;
}

.gc-qty-btn:hover {
  background-color: rgba(0, 0, 0, 0.05);
}

.gc-qty-btn:active {
  background-color: rgba(0, 0, 0, 0.1);
}

.gc-qty-input {
  flex: 1;
  width: 100%;
  border: none !important;
  box-shadow: none !important;
  background: transparent !important;
  text-align: center;
  padding: 0 !important;
  height: 100%;
  margin: 0;
  font-weight: 600;
  font-size: 18px;
  -moz-appearance: textfield;
  appearance: textfield;
}

.gc-qty-input::-webkit-outer-spin-button,
.gc-qty-input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

@media (max-width: 560px) {
  .gc-quantity-wrapper {
    height: 52px;
  }
}

/* ============================================
   FLATPICKR CUSTOMIZATION (Redesign v2)
   ============================================ */

.flatpickr-calendar {
  font-family: inherit !important;
  border: none !important;
  box-shadow: 0 4px 25px rgba(0, 0, 0, 0.1) !important;
  border-radius: 20px !important;
  margin-top: 12px;
  padding: 20px !important;
  width: auto !important;
  max-width: 320px !important;
  background: #fff !important;
  z-index: 99999 !important;
  position: absolute !important;
}

/* Ensure form has relative positioning for calendar overlay context */
.gc-booking-form {
  position: relative;
}

/* Calendar container positioning fix */
.gc-date-range {
  position: relative;
}

.flatpickr-months {
  margin-bottom: 20px !important;
  align-items: center !important;
}

.flatpickr-month {
  color: #111 !important;
  fill: #111 !important;
  height: 40px !important;
}

.flatpickr-current-month {
  padding-top: 0 !important;
  font-size: 18px !important;
  /* Larger, bolder header */
  font-weight: 700 !important;
  left: 0 !important;
  width: 100% !important;
  display: flex !important;
  justify-content: center !important;
  align-items: center !important;
}

.flatpickr-current-month input.cur-year {
  font-weight: 700 !important;
  color: inherit !important;
}

/* Hide month scrolling arrows for cleaner look if desired, or style them minimal */
.flatpickr-current-month .numInputWrapper {
  display: none !important;
  /* Hide year spinner arrows */
}

.flatpickr-weekdays {
  margin-bottom: 12px;
}

.flatpickr-weekday {
  color: #888 !important;
  /* Lighter utility text */
  font-weight: 500 !important;
  font-size: 14px !important;
  text-transform: capitalize !important;
  /* purely personal pref, standard often shorthand */
}

.flatpickr-day {
  font-weight: 500;
  color: #222;
  border: none !important;
  margin-top: 6px !important;
  height: 44px !important;
  line-height: 44px !important;
  font-size: 15px !important;
  max-width: none !important;
  /* For flex layout */
}

/* Hover State */
.flatpickr-day:hover,
.flatpickr-day.prevMonthDay:hover,
.flatpickr-day.nextMonthDay:hover,
.flatpickr-day:focus {
  background: #f7f7f7 !important;
  color: #000 !important;
  border-radius: 100% !important;
  /* Perfect circle hover */
}

/* Range Start & End - The Circles */
.flatpickr-day.selected.startRange,
.flatpickr-day.startRange.startRange,
.flatpickr-day.endRange.startRange,
.flatpickr-day.selected.endRange,
.flatpickr-day.startRange.endRange,
.flatpickr-day.endRange.endRange {
  background: var(--gc-color-primary) !important;
  color: #fff !important;
  border-color: var(--gc-color-primary) !important;
  border-radius: 100% !important;
  /* Circle shape */
  box-shadow: none !important;
  z-index: 2;
  /* Sit above the range strip */
}

/* The Range Strip - Middle connection */
.flatpickr-day.inRange,
.flatpickr-day.prevMonthDay.inRange,
.flatpickr-day.nextMonthDay.inRange,
.flatpickr-day.today.inRange,
.flatpickr-day.prevMonthDay.today.inRange,
.flatpickr-day.nextMonthDay.today.inRange {
  background: rgba(0, 99, 65, 0.08) !important;
  /* Very light primary wash */
  color: #111 !important;
  border-radius: 0 !important;
  box-shadow: -5px 0 0 rgba(0, 99, 65, 0.08), 5px 0 0 rgba(0, 99, 65, 0.08) !important;
  border: none !important;
}

/* Fix for Start/End appearing "connected" seamlessly */
/* We want the start circle to sit ON TOP of a potential background strip if we wanted that style (Airbnb style usually has circle + strip). */
/* Flatpickr doesn't easily support "circle on top of strip" DOM structure without pseudo elements, but we can fake it with gradients or careful sibling styling.
   However, the requested screenshot shows DISTINCT circles for start/end, and a light background connecting them. 
*/

/* Reset stacking context */
.flatpickr-day.selected.startRange+.endRange:not(:nth-child(7n+1)),
.flatpickr-day.startRange.startRange+.endRange:not(:nth-child(7n+1)),
.flatpickr-day.endRange.startRange+.endRange:not(:nth-child(7n+1)) {
  box-shadow: -10px 0 0 rgba(0, 99, 65, 0.08) !important;
}

/* Today */
.flatpickr-day.today {
  border: none !important;
  font-weight: 700 !important;
  color: var(--gc-color-primary) !important;
}

.flatpickr-day.today:hover {
  background: #f0f0f0 !important;
  color: var(--gc-color-primary) !important;
}

/* Navigation Arrows */
.flatpickr-prev-month,
.flatpickr-next-month {
  padding: 10px !important;
  top: 50% !important;
  transform: translateY(-50%);
  height: 32px !important;
  width: 32px !important;
  border-radius: 50%;
  display: flex !important;
  align-items: center;
  justify-content: center;
}

.flatpickr-prev-month svg,
.flatpickr-next-month svg {
  width: 14px !important;
  height: 14px !important;
  fill: #333 !important;
}

.flatpickr-prev-month:hover,
.flatpickr-next-month:hover {
  background: #f7f7f7 !important;
}

/* Disabled/Past Dates */
.flatpickr-day.flatpickr-disabled,
.flatpickr-day.flatpickr-disabled:hover {
  color: #e0e0e0 !important;
  background: transparent !important;
  cursor: not-allowed;
}

/* Layout - Double Month Desktop */
@media (min-width: 768px) {
  .flatpickr-calendar.rangeMode {
    width: 100% !important;
    /* We rely on JS to set 'width' to pixel value of container, but here we ensure internal layout works */
  }
}

/* Mobile Adjustments */
@media (max-width: 767px) {
  .flatpickr-months .flatpickr-month {
    height: 50px !important;
  }

  .flatpickr-current-month {
    font-size: 16px !important;
  }
}